<!-- Entire component will reside within a drawer container -->
<mat-drawer-container
  class="grow bg-cyan-50 dark:bg-zinc-900"
  [hasBackdrop]="isMobile"
>
  <!-- Content within drawer -->
  <mat-drawer
    #drawer
    [mode]="isMobile ? 'over' : 'push'"
    [opened]="true"
    ngClass="flex flex-col w-64 md:w-96 px-2 md:px-3 py-2
    bg-sky-100 dark:bg-slate-700 text-black dark:text-white"
  >
    <!-- Past Queries Header -->
    <header
      ngClass="text-2xl md:text-3xl font-heading font-bold text-center
        py-1 md:py-3"
    >
      Past Queries
    </header>

    <!-- Previous requests and prompt to sign in/out -->
    <main
      [ngClass]="[
        'rounded-lg h-full overflow-y-auto',
        user ? 'bg-sky-200 dark:bg-slate-800' : 'bg-gray-200 dark:bg-gray-500'
      ]"
    >
      <!-- User is signed in, display past requests with Sign Out at bottom -->
      <div *ngIf="user">
        User is Signed in!
        {{ user?.displayName }}
        <button mat-raised-button (pointerdown)="signOut()">Sign Out</button>
      </div>
      <!-- User not signed in, prompt to sign in -->
      <div
        *ngIf="!user"
        ngClass="flex flex-col items-center justify-center h-full gap-y-12 p-3"
      >
        <div ngClass="text-3xl text-center font-serif">
          Sign In with Google to save your Queries
        </div>
        <button
          mat-raised-button
          color="basic"
          ngClass="h-20 w-10/12 px-4 bg-cyan-50 dark:bg-slate-700"
          (click)="googleSignIn()"
        >
          <div ngClass="flex flex-row items-center justify-evenly">
            <img src="../../../assets/google-icon.png" ngClass="w-12 md:w-16" />
            <div ngClass="text-2xl md:text-4xl font-slogan">Sign In</div>
          </div>
        </button>
      </div>
    </main>
  </mat-drawer>

  <!-- Container with Drawer Toggle Button and Main Page -->
  <mat-drawer-content ngClass="flex flex-row bg-transparent">
    <!-- Drawer Content -->
    <aside ngClass="flex flex-col">
      <div ngClass="grow invisible"></div>
      <button
        mat-icon-button
        [matTooltip]="isDrawerOpen ? '' : 'Past Queries'"
        (click)="drawer.toggle()"
        id="toggle-button"
        [ngClass]="[
          'text-black dark:text-white rounded-full',
          isMobile && isDrawerOpen ? 'left-64 md:left-96' : ''
        ]"
      >
        <mat-icon
          [ngClass]="[
            'text-5xl absolute bottom-5 right-5',
            drawerClosing && isMobile ? 'hidden' : ''
          ]"
        >
          {{ drawer.opened ? 'chevron_left' : 'chevron_right' }}
        </mat-icon>
      </button>
      <div ngClass="grow-4/3 invisible"></div>
    </aside>

    <!-- Main Page Content -->
    <div ngClass="text-black dark:text-white grow bg-cyan-50 dark:bg-zinc-900">
      <button (click)="toggleTheme()">Toggle Theme</button>
    </div>
  </mat-drawer-content>
</mat-drawer-container>
